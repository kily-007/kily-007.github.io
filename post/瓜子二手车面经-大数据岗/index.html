<html>
<head>
    <meta charset="utf-8"/>
<meta name="description" content=""/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>瓜子二手车面经-大数据岗 | kily007</title>
<link rel="shortcut icon" href="https://kily-007.github.io//favicon.ico?v=1591446372080">
<link href="https://cdn.bootcss.com/font-awesome/5.11.2/css/all.css" rel="stylesheet">
<link rel="stylesheet" href="https://kily-007.github.io//styles/main.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
      integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

<script src="https://cdn.bootcss.com/highlight.js/9.15.10/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dockerfile.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dart.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/go.min.js"></script>
<script src="https://cdn.bootcss.com/moment.js/2.23.0/moment.min.js"></script>
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
        integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        crossorigin="anonymous"></script>

<!-- DEMO JS -->
<!--<script src="media/scripts/index.js"></script>-->



<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?3aca18fa9f3a7e31f0ce64c09c9e5165";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
</head>
<body>
<div class="main gt-bg-theme-color-first">
<div class="main-content">
    <nav class="navbar navbar-expand-lg" style="background:url('/images/background.png');background-repeat: no-repeat;height: 100%;width:100%;">
	
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <i class="fas fa-bars gt-c-content-color-first" style="font-size: 18px"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <div class="navbar-nav mr-auto" style="position: fixed;top:0px;left:0px;float:inherit;background-color:#F5F5F5;height:50px;width:100%;z-index:99;"> 
			<div class="nav-item navbar-brand">
			    <a href="/"><img class="user-avatar" src="/images/avatar.png" alt="头像"></a>
			    <a href="/"><div class="site-name"> kily007</div></a>
			</div>
            
                <div class="nav-item" >
                    
                        <a href="/" class="menu gt-a-links">
                            首页
                        </a>
                    
                </div>
				
				
            
                <div class="nav-item" >
                    
                        <a href="/post/about" class="menu gt-a-links">
                            关于
                        </a>
                    
                </div>
				
				
            
                <div class="nav-item" >
                    
                        <a href="/archives" class="menu gt-a-links">
                            归档
                        </a>
                    
                </div>
				
				
            
                <div class="nav-item" >
                    
                        <a href="/tags" class="menu gt-a-links">
                            标签
                        </a>
                    
                </div>
				
				
            
                <div class="nav-item" >
                    
                        <a href="/neighbor" class="menu gt-a-links">
                            邻居
                        </a>
                    
                </div>
				
				
            
                <div class="nav-item" >
                    
                        <a href="/life" class="menu gt-a-links">
                            生活
                        </a>
                    
                </div>
				
				
            
                <div class="nav-item" >
                    
                        <a href="/message" class="menu gt-a-links">
                            留言
                        </a>
                    
                </div>
				
				
            
        </div>
    </div>
</nav>
    <div class="post-container">
        <div class="post-detail gt-bg-theme-color-second">
            <article class="gt-post-content">
                <h2 class="post-title">
                    瓜子二手车面经-大数据岗
                </h2>
                <div class="post-info">
                    <time class="post-time gt-c-content-color-first">
                        · 2019-09-04 ·
                    </time>
                    
                </div>
                <div class="post-content">
                    <h1 id="瓜子二手车面经">瓜子二手车面经</h1>
<h2 id="一面">一面：</h2>
<p>面试官是个比较耐心的大姐姐类型，很多问题都不会也跟我说没关系，总共面了45分钟。我问了一下瓜子的开发岗都是在一起面得，内容都很相似，并没有针对特定的岗位问对应的内容，下面说下面试过程趴。</p>
<p><strong>1、自我介绍和项目介绍，没撑过5分钟，让直接讲里面用到的技术栈，不要讲业务逻辑。用到的技术包括缓冲区、kafka、spark、hbase之类的。</strong></p>
<p><strong>2、java中的弱引用与强引用；</strong></p>
<ul>
<li>
<p><strong>强引用</strong>是使用最普遍的引用。如果一个对象具有强引用，那垃圾回收器绝不会回收它。当内存空间不足时，Java虚拟机宁愿抛出OutOfMemoryError错误，使程序异常终止，也不会靠随意回收具有强引用的对象来解决内存不足的问题。<br>
如果强引用对象不使用时，需要弱化从而使GC能够回收，如下：</p>
<p>strongReference = null;</p>
<p>显式地设置strongReference对象为null，或让其超出对象的生命周期范围，则gc认为该对象不存在引用，这时就可以回收这个对象。具体什么时候收集这要取决于GC算法。</p>
</li>
<li>
<p><strong>软引用</strong>如果一个对象只具有<strong>软引用</strong>，则<strong>内存空间充足</strong>时，<strong>垃圾回收器</strong>就<strong>不会</strong>回收它；如果<strong>内存空间不足</strong>了，就会<strong>回收</strong>这些对象的内存。只要垃圾回收器没有回收它，该对象就可以被程序使用。(软引用可用来实现内存敏感的高速缓存。)<strong>软引用</strong>可以和一个<strong>引用队列</strong>(<code>ReferenceQueue</code>)联合使用。如果<strong>软引用</strong>所引用对象被<strong>垃圾回收</strong>，<code>JAVA</code>虚拟机就会把这个<strong>软引用</strong>加入到与之关联的<strong>引用队列</strong>中。</p>
<p>当内存不足时，<code>JVM</code>首先将<strong>软引用</strong>中的<strong>对象</strong>引用置为<code>null</code>，然后通知<strong>垃圾回收器</strong>进行回收,也就是说，<strong>垃圾收集线程</strong>会在虚拟机抛出<code>OutOfMemoryError</code>之前回<strong>收软引用对象</strong>，而且<strong>虚拟机</strong>会尽可能优先回收<strong>长时间闲置不用</strong>的<strong>软引用对象</strong>。对那些<strong>刚构建</strong>的或刚使用过的**“较新的”<strong>软对象会被虚拟机尽可能</strong>保留**，这就是引入<strong>引用队列</strong><code>ReferenceQueue</code>的原因。</p>
<p>应用场景：</p>
<p>浏览器的后退按钮。按后退时，这个后退时显示的网页内容是重新进行请求还是从缓存中取出呢？这就要看具体的实现策略了。</p>
<p>如果一个网页在浏览结束时就进行内容的回收，则按后退查看前面浏览过的页面时，需要重新构建；<br>
如果将浏览过的网页存储到内存中会造成内存的大量浪费，甚至会造成内存溢出。<br>
这时候就可以使用软引用，很好的解决了实际的问题。</p>
</li>
<li>
<p><strong>弱引用</strong>与<strong>软引用</strong>的区别在于：只具有<strong>弱引用</strong>的对象拥有<strong>更短暂</strong>的<strong>生命周期</strong>。在垃圾回收器线程扫描它所管辖的内存区域的过程中，一旦发现了只具有<strong>弱引用</strong>的对象，不管当前<strong>内存空间足够与否</strong>，都会<strong>回收</strong>它的内存。不过，由于垃圾回收器是一个<strong>优先级很低的线程</strong>，因此<strong>不一定</strong>会<strong>很快</strong>发现那些只具有<strong>弱引用</strong>的对象。</p>
</li>
<li>
<p><strong>虚引用</strong>顾名思义，就是形同虚设，与其他几种引用都不同，虚引用并不会决定对象的生命周期。如果一个对象仅持有虚引用，那么它就<strong>和没有任何引用一样，在任何时候都可能被垃圾回收。虚引用主要用来跟踪对象被垃圾回收的活动</strong>。虚引用与软引用和弱引用的一个区别在于：<strong>虚引用必须和引用队列（ReferenceQueue）联合使用</strong>。当垃圾回收器准备回收一个对象时，如果发现它还有虚引用，就会在回收对象的内存之前，把这个虚引用加入到与之关联的引用队列中。程序可以通过判断引用队列中是否已经加入了虚引用，来了解被引用的对象是否将要被垃圾回收。程序如果发现某个虚引用已经被加入到引用队列，那么就可以在所引用的对象的内存被回收之前采取必要的行动。</p>
</li>
</ul>
<p>特别注意，在实际程序设计中一般很少使用弱引用与虚引用，使用软用的情况较多，这是因为软引用可以加速JVM对垃圾内存的回收速度，可以维护系统的运行安全，防止内存溢出（OutOfMemory）等问题的产生。</p>
<p><strong>3、让实现LRU算法，讲讲思路；</strong></p>
<p>最近最少使用算法。常用于页面置换算法，是为虚拟页式存储管理服务的。当一个数据最近一段时间没有被访问，未来被访问的概率也很小。当空间被占满后，最先淘汰最近最少使用的数据。</p>
<p>思路一：采用链表维持一个虚拟队列，有新元素进入时，插入到头结点；当某个结点被访问时，将其移到头结点；当超过队列容量时，删除表尾元素。</p>
<p>思路二：采用容器与计数的方法。元素按顺序进入容器，每个元素有一个计数器，按照进入容器的顺序计数，每被访问一次计数器加一；</p>
<p><strong>4、三次握手及详细过程，什么时候调用accept()函数，有什么作用；timewaite发生在什么时候，为什么要wait？</strong></p>
<figure data-type="image" tabindex="1"><img src="https://blog-1300147267.cos.ap-shanghai.myqcloud.com/%E7%AC%94%E8%AE%B0-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C04.png" alt="" loading="lazy"></figure>
<p>1.服务器调用listen进行监听。</p>
<p>2.客户端调用connect来发送syn报文<br>
服务器协议栈负责三次握手的交互过程。</p>
<p>3.连接建立后，往listen队列中添加一个成功的连接，直到队列的最大长度。</p>
<p>4.服务器调用accept从listen队列中取出一条成功的tcp连接，listen队列中的连接个数就少一个</p>
<p><strong>5、讲一下session和cookie的区别；在服务器上多台机器多实例需要共享session中的内容该怎么办？</strong></p>
<p><strong>session</strong>在服务端，它 的含义是指一类用来在客户端与服务器之间保持状态的解决方案。每个客户端对应一个session，每个session有一个session id，</p>
<p><strong>cookie</strong>在客户端，浏览器缓存访问信息、记录与资源在cookie中。 cookie的内容主要包括：名字，值，过期时间，路径和域。 由于cookie可以被人为的禁止，必须有其他机制以便在cookie被禁止时仍然能够把session id传递回服务器。经常被使用的一种技术叫做URL重写，就是把session id直接附加在URL路 径的后面，附加方式也有两种，一种是作为URL路径的附加信息，另一种是作为查询字符串附加在URL后面.</p>
<p><strong>共享</strong>一般情况下，session都是存储在内存里，当服务器进程被停止或者重启的时候，内存里 的session也会被清空，如果设置了session的持久化特性，服务器就会把session保存到硬盘 上，当服务器进程重新启动或这些信息将能够被再次使用，Weblogic Server支持的持久性方 式包括文件、数据库、客户端cookie保存和复制。复制严格说来不算持久化保存，因为session实际上还是保存在内存里，不过同样的信息 被复制到各个cluster内的服务器进程中，这样即使某个服务器进程停止工作也仍然可以从其 他进程中取得session。</p>
<p><strong>6、socket编程中，客户端和服务端建立连接需要用到哪些函数并解释一下作用。</strong></p>
<p><strong>7、socket连接中shutdown()和close()有什么区别。</strong></p>
<p>close关闭的是双向的，in out都关了~~但是是引用计数--直到--到为0才真正的关闭~因而是线程安全的。</p>
<p>shutdown 是单向关闭，通过参数指定关闭不同的方向，直接强制关闭，非线程安全；</p>
<p><strong>8、多线程和多进程的区别和联系，多进程访问临界资源如何处理。</strong></p>
<p>进程是资源分配的最小单位，线程是CPU调度的最小单位</p>
<p><strong>多线程</strong>之间共享同一<br>
个进程的地址空间，线程间通信简单，同步复杂，线程创建、销毁和切换简单，速度快，占用内存少，适用于多核分布式系统，但是线程间会相互影响，一个线程意<br>
外终止会导致同一个进程的其他线程也终止，程序可靠性弱。</p>
<p><strong>多进程</strong>间拥有各自<br>
独立的运行地址空间，进程间不会相互影响，程序可靠性强，但是进程创建、销毁<br>
和切换复杂，速度慢，占用内存多，进程间通信复杂，但是同步简单，适用于多核<br>
、多机分布。</p>
<p><strong>8、手撕算法题，输出某二叉树中路径和等于定值n的所有路径，路径：从根节点到叶结点或从叶节点到叶节点</strong></p>
<p>想法：将二叉树建立子节点指向父节点的引用，BFS遍历某叶节点或root结点到剩下结点的的路径，和为n则输出。</p>
<p><strong>9、手撕代码，给出二叉树中的两个结点，找出它们的最低公共父节点。</strong></p>
<p>BFS或DFS找到指点两个结点n1和n2，记录root结点到n1和n2结点的路径，最后一个重复结点即为最低公共父结点。</p>
<h2 id="二面">二面：</h2>
<p>一面面经写到一半，然后打电话来了二面，效率是真的高。二面小哥超帅的，总共面了47分钟，大多时间都在撕代码，或者在撕代码的路上。</p>
<p>自我介绍，然后讲3分钟项目，根据项目提了一些对应的问题，然后就是你问我答环节。</p>
<p><strong>1、kafka当分区数大于消费者数量的时候如何消费，反过来呢？</strong></p>
<p>分区数&gt;消费者数：一个消费者消费固定负责一个或多个分区数据；</p>
<p>分区数&lt;消费者数：一个消费者固定消费一个分区，多余消费者空闲。</p>
<p><strong>2、kafka如何保证多分区数据的顺序性。</strong></p>
<p>采用重排序、阻塞、单分区。</p>
<p><strong>3、kakfa在消费者端调试过哪些参数，有什么意义；在使用poll拉取消息的时候有个除了有个每次拉取的数据条数设置还有哪些参数。</strong></p>
<pre><code class="language-java">	// 创建一份kafka参数map
	Map&lt;String, Object&gt; kafkaParams = new HashMap&lt;String, Object&gt;();
	kafkaParams.put(&quot;bootstrap.servers&quot;, &quot;master:9092,slave1:9092,slave2:9092&quot;);
	kafkaParams.put(&quot;key.deserializer&quot;, StringDeserializer.class);
	kafkaParams.put(&quot;value.deserializer&quot;, ByteArrayDeserializer.class);
	kafkaParams.put(&quot;group.id&quot;, &quot;topic6-groud1&quot;);
	kafkaParams.put(&quot;auto.offset.reset&quot;, &quot;latest&quot;);
	kafkaParams.put(&quot;enable.auto.commit&quot;, true);
	Collection&lt;String&gt; topics = Arrays.asList(&quot;topic6&quot;);

while (true) {
	ConsumerRecords&lt;String, byte[]&gt; records = consumer.poll(Duration.ofMillis(500));
	for (ConsumerRecord&lt;String, byte[]&gt; record : records) {
    }
}
</code></pre>
<p><strong>4、介绍一下spark流式计算框架，RDD弹性数据集以及对其的了解。</strong></p>
<p><strong>5、hbase优化策略调过哪些参数。</strong></p>
<p><strong>6、多线程与多进程的区别（两面都问到过），在线程和进程切换时有什么区别，哪个开销大，为什么？</strong></p>
<p><strong>7、排序算法中有哪些是稳定的，哪些不稳定</strong></p>
<p>稳定算法：冒泡排序、插入排序、归并排序、基数排序</p>
<p>不稳定算法：选择排序、快速排序、希尔排序、堆排序</p>
<p><strong>8、linux命令，查看内存情况，剩余磁盘空间，网络状态</strong></p>
<p>top、df -lh、netstat</p>
<p><strong>9、构造最小生成树Prim算法（不记得）</strong></p>
<p><strong>10、迪杰斯特拉算法求最短路径（还是不记得，默默心疼一波自己）</strong></p>
<p><strong>11、手撕一个算法题</strong></p>
<p>有多个柱子靠在一起，柱子宽度固定为1，给定一个数组，表示每个柱子的高度，问从柱子上方泼水，柱子中最多能容纳多少水。示意图如下</p>
<figure data-type="image" tabindex="2"><img src="https://blog-1300147267.cos.ap-shanghai.myqcloud.com/%E9%9D%A2%E7%BB%8F/%E6%9F%B1%E5%AD%90%E7%81%8C%E6%B0%B4.png" alt="" loading="lazy"></figure>
<p>首先想到的是计算每个柱子相邻的两个柱子较低的那个高度，然后相加。在小哥的提醒下发现，当如图中第7根和第9根酱紫的时候不对。</p>
<p>然后我又想了一会儿，提出对每个柱子遍历，找到其左右两边的最高的那个柱子，取较低的那个然后所有相加。然后小哥说复杂度太大了，有没有办法在O(n)的复杂度内把左右两边的最高柱子算出来。</p>
<p>然后我想了会儿，采用遍历一次，每次用tempL和tempR记录当前最大值，放进辅助数组里，然后让我用代码写一下。然后在作业本上撕了一下：</p>
<p>答案还在手打中，待续。。。</p>

                </div>
            </article>
        </div>

        
            <div class="next-post">
                <div class="next gt-c-content-color-first">下一篇</div>
                <a href="https://kily-007.github.io/post/笔记-集群搭建记录/" class="post-title gt-a-link">
                    集群搭建记录
                </a>
            </div>
        

        
		
		
			<script src='https://unpkg.com/valine/dist/Valine.min.js'></script>

<style>
	div#vcomments{
		width:100%;
		max-width: 1000px;
		padding: 2.5%
	}
</style>


	<div id="vcomments"></div>

<script>
	new Valine({
		el: '#vcomments',
		appId: 'C9YP6zy0q66Y54y9XEILvC0C-gzGzoHsz',
		appKey: 'J5I9bBm34OtqU0zFzl9KR4p3',
		avatar: 'monsterid',
		pageSize: 10,
		recordIp: true,
		placeholder: 'Just Go Go'
	});
	if(window.location.hash){
		var checkExist = setInterval(function() {
		   if ($(window.location.hash).length) {
			  $('html, body').animate({scrollTop: $(window.location.hash).offset().top-90}, 1000);
			  clearInterval(checkExist);
		   }
		}, 100);
	}
</script>
		

        <div class="site-footer gt-c-content-color-first">
    <div class="slogan gt-c-content-color-first">啦啦啦，我是卖报的小行家...</div>
    <div class="social-container">
        
            
                <a href="https://github.com/kily-007" target="_blank">
                    <i class="fab fa-github gt-c-content-color-first"></i>
                </a>
            
        
            
        
            
        
            
        
            
        
            
        
    </div>
    <div class="footer-info">
        <div>
	<a href="https://www.zyglz.com"> © 资源管理站</a>
	<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
	<span id="busuanzi_container_site_uv" style='display:none'>访客人数：<span id="busuanzi_value_site_uv"></span>人</span>
	<span id="busuanzi_container_site_pv" style='display:none'>总访问量：<span id="busuanzi_value_site_pv"></span>次</span>
</div>
    </div>
	
    <!--<div>
        Theme by <a href="https://imhanjie.com/" target="_blank">imhanjie</a>, Powered by <a
                href="https://github.com/getgridea/gridea" target="_blank">Gridea | <a href="https://kily-007.github.io//atom.xml" target="_blank">RSS</a></a>
    </div>
	-->
	<span id="sitetime"></span>
	
</div>

<script>
    hljs.initHighlightingOnLoad()
</script>
<script src="//instant.page/3.0.0" type="module" defer integrity="sha384-OeDn4XE77tdHo8pGtE1apMPmAipjoxUQ++eeJa6EtJCfHlvijigWiJpD7VDPWXV1"></script>


<script language=javascript>
    function siteTime(){
        window.setTimeout("siteTime()", 1000);
        var seconds = 1000;
        var minutes = seconds * 60;
        var hours = minutes * 60;
        var days = hours * 24;
        var years = days * 365;
        var today = new Date();
        var todayYear = today.getFullYear();
        var todayMonth = today.getMonth()+1;
        var todayDate = today.getDate();
        var todayHour = today.getHours();
        var todayMinute = today.getMinutes();
        var todaySecond = today.getSeconds();
        var t1 = Date.UTC(2019,09,02,21,26,00);  //此处填写建站时间 依次为 年,月,日,时,分,秒注意格式 半角,
        var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond);
        var diff = t2-t1;
        var diffYears = Math.floor(diff/years);
        var diffDays = Math.floor((diff/days)-diffYears*365);
        var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours);
        var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes);
        var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds);
        document.getElementById("sitetime").innerHTML="kily007's blog已运行"+diffYears+" 年 "+diffDays+" 天 "+diffHours+" 小时 "+diffMinutes+" 分钟 "+diffSeconds+" 秒";
    }
    siteTime();
</script>
    </div>
</div>
</div>
</body>
</html>
